{"ast":null,"code":"export const addOrderToUserHistory = cartItems => {\n  const userProfile = JSON.parse(localStorage.getItem('userProfile'));\n  if (!userProfile) return;\n  const userOrders = JSON.parse(localStorage.getItem('userOrders')) || [];\n  const newOrder = {\n    id: Date.now(),\n    date: new Date().toLocaleDateString(),\n    items: cartItems,\n    total: cartItems.reduce((total, item) => total + item.price * item.quantity, 0)\n  };\n  userOrders.push(newOrder);\n  localStorage.setItem('userOrders', JSON.stringify(userOrders));\n\n  // Добавляем заказ в профиль пользователя\n  userProfile.orders = userOrders;\n  localStorage.setItem('userProfile', JSON.stringify(userProfile));\n};","map":{"version":3,"names":["addOrderToUserHistory","cartItems","userProfile","JSON","parse","localStorage","getItem","userOrders","newOrder","id","Date","now","date","toLocaleDateString","items","total","reduce","item","price","quantity","push","setItem","stringify","orders"],"sources":["C:/Users/79818/shop1/src/components/utils/userUtils.js"],"sourcesContent":["export const addOrderToUserHistory = (cartItems) => {\r\n  const userProfile = JSON.parse(localStorage.getItem('userProfile'));\r\n  \r\n  if (!userProfile) return;\r\n\r\n  const userOrders = JSON.parse(localStorage.getItem('userOrders')) || [];\r\n  const newOrder = {\r\n    id: Date.now(),\r\n    date: new Date().toLocaleDateString(),\r\n    items: cartItems,\r\n    total: cartItems.reduce((total, item) => total + item.price * item.quantity, 0),\r\n  };\r\n\r\n  userOrders.push(newOrder);\r\n  localStorage.setItem('userOrders', JSON.stringify(userOrders));\r\n\r\n  // Добавляем заказ в профиль пользователя\r\n  userProfile.orders = userOrders;\r\n  localStorage.setItem('userProfile', JSON.stringify(userProfile));\r\n};\r\n"],"mappings":"AAAA,OAAO,MAAMA,qBAAqB,GAAIC,SAAS,IAAK;EAClD,MAAMC,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC;EAEnE,IAAI,CAACJ,WAAW,EAAE;EAElB,MAAMK,UAAU,GAAGJ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC,CAAC,IAAI,EAAE;EACvE,MAAME,QAAQ,GAAG;IACfC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;IACdC,IAAI,EAAE,IAAIF,IAAI,CAAC,CAAC,CAACG,kBAAkB,CAAC,CAAC;IACrCC,KAAK,EAAEb,SAAS;IAChBc,KAAK,EAAEd,SAAS,CAACe,MAAM,CAAC,CAACD,KAAK,EAAEE,IAAI,KAAKF,KAAK,GAAGE,IAAI,CAACC,KAAK,GAAGD,IAAI,CAACE,QAAQ,EAAE,CAAC;EAChF,CAAC;EAEDZ,UAAU,CAACa,IAAI,CAACZ,QAAQ,CAAC;EACzBH,YAAY,CAACgB,OAAO,CAAC,YAAY,EAAElB,IAAI,CAACmB,SAAS,CAACf,UAAU,CAAC,CAAC;;EAE9D;EACAL,WAAW,CAACqB,MAAM,GAAGhB,UAAU;EAC/BF,YAAY,CAACgB,OAAO,CAAC,aAAa,EAAElB,IAAI,CAACmB,SAAS,CAACpB,WAAW,CAAC,CAAC;AAClE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}